<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaTeX Editor and Viewer</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="latex/style.css">
</head>
<body>
    <div class="container">
        
        <div class="pane editor-pane">
            
            <h2><i class="fas fa-file-code"></i> LaTeX Editor</h2>
            <textarea id="latex-editor" spellcheck="false">\documentclass{article}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[utf8]{inputenc}

\title{My First LaTeX Document}
\author{Your Name}
\date{\today}

\begin{document}

\maketitle

\section{Introduction}
This is a sample LaTeX document created using the online editor.
You can write your text here, including mathematical formulas like $E = mc^2$.

\section{Mathematics}
Here are some mathematical equations:
\begin{align}
    \sum_{i=1}^{n} i &= \frac{n(n+1)}{2} \\
    \int_0^\infty e^{-x^2} dx &= \frac{\sqrt{\pi}}{2}
\end{align}

\section{Figure Example}
% You can include images if they are accessible by the server
% \begin{figure}[h!]
%     \centering
%     % \includegraphics[width=0.5\textwidth]{your_image.png}
%     \caption{A sample figure caption.}
%     \label{fig:sample}
% \end{figure}

\section{Conclusion}
Happy LaTeXing!

\end{document}
            </textarea>
        </div>

        <div class="pane viewer-pane">
            <h2>
                <i class="fas fa-file-pdf"></i> 
                PDF Viewer 
                <button id="refresh-button">
                <i class="fas fa-sync-alt"></i> 
                </button>
            </h2>
             <div id="pdf-viewer-container" style="flex-grow: 1; position: relative;">
                <iframe id="pdf-viewer" src="" title="PDF Viewer"></iframe>
                <div id="viewer-placeholder" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; background-color: #fff; border: 1px solid var(--border-color); border-radius: 8px;">
                    <i class="fas fa-eye" style="font-size: 3em; color: var(--border-color); margin-bottom: 15px;"></i>
                    <p style="color: var(--text-color); text-align: center;">Click the 'Refresh PDF' button below<br>to generate and view the PDF.</p>
                </div>
            </div>
        </div>
    </div>

    <div class="message-area" id="message-area">
        <!-- Messages will appear here -->
    </div>

    <div class="loading-overlay" id="loading-overlay">
        <div class="spinner"></div>
    </div>
    <div id="slug-container" style="display: none;" data-slug=""></div>

    <script type="module" src="latex/scripts/index.js"></script>

</body>
</html>